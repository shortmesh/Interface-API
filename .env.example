# Server Configuration
PORT=8080

# Logging level: debug, info, warn, error, fatal
LOG_LEVEL=info

# Database Configuration
# Choose either SQLite or MySQL

# SQLite (Default) - Comment to use MySQL
SQLITE_DB_PATH=./shortmesh.db

# MySQL
MYSQL_HOST=localhost
MYSQL_PORT=3306
MYSQL_DATABASE=shortmesh
MYSQL_USERNAME=root
MYSQL_PASSWORD=

# Migration Settings
# AUTO_MIGRATE=true will automatically run pending migrations on app start
# Set to false to disable auto-migration (recommended for production)
AUTO_MIGRATE=true

# AUTO_CREATE_TABLES=true will automatically create ALL database tables on first run
# Set to false if you want to manage table creation manually via migrations
AUTO_CREATE_TABLES=true

# Argon2id Configuration
# Memory usage in KiB (default: 65536 = 64 MB)
ARGON2_MEMORY=65536
# Number of iterations (default: 3)
ARGON2_ITERATIONS=3
# Number of parallel threads (default: 4)
ARGON2_PARALLELISM=4
# Length of the generated hash in bytes (default: 32)
ARGON2_SALT_LENGTH=16
# Length of the generated key in bytes (default: 32)
ARGON2_KEY_LENGTH=32

# Password Policy Configuration
# Enable/disable password policy validation (default: true)
PASSWORD_POLICY_ENABLED=true
# Minimum password length (default: 8)
PASSWORD_MIN_LENGTH=8
# Maximum password length (default: 64)
PASSWORD_MAX_LENGTH=64
# Check password against Pwned Passwords API (default: true)
PASSWORD_CHECK_PWNED=true
# Check for leading/trailing spaces (default: true)
PASSWORD_CHECK_SPACES=true
# Timeout for Pwned Passwords API in seconds (default: 5)
PASSWORD_PWNED_TIMEOUT=5
# Skip pwned check if API fails (default: true)
PASSWORD_SKIP_PWNED_ON_ERROR=true

# Cryptographic Keys
# These MUST be base64-encoded 32-byte keys
# Generate with: openssl rand -base64 32
ENCRYPTION_KEY=
HASH_KEY=
JWT_SECRET=

# Session Configuration
# Maximum number of active sessions per user (default: 1)
MAX_SESSIONS_PER_USER=1
# Session duration in hours (default: 720 = 30 days)
SESSION_DURATION_HOURS=720

# External Services
# MAS (Matrix Authentication Service) URLs and credentials
MAS_ADMIN_URL=
ADMIN_CLIENT_ID=
ADMIN_CLIENT_SECRET=
# Matrix Client URL
MATRIX_CLIENT_URL=
